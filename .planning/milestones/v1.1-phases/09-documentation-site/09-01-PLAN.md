---
phase: 09-documentation-site
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs-site/config.toml
  - docs-site/layouts/_default/baseof.html
  - docs-site/layouts/index.html
  - docs-site/layouts/_default/single.html
  - docs-site/static/css/style.css
  - docs-site/content/_index.md
autonomous: true

must_haves:
  truths:
    - "Homepage clearly explains what Docora is and its value proposition"
    - "Homepage shows how Docora works at a high level (register, monitor, notify flow)"
    - "Navigation bar links to Homepage, API docs, and Webhook docs"
    - "Site uses Hugo sections for multi-page routing"
  artifacts:
    - path: "docs-site/config.toml"
      provides: "Hugo config with updated site title and menu"
    - path: "docs-site/layouts/_default/baseof.html"
      provides: "Base layout with dynamic navigation links"
    - path: "docs-site/layouts/_default/single.html"
      provides: "Layout for section pages (API, Webhooks)"
    - path: "docs-site/content/_index.md"
      provides: "Homepage content explaining Docora"
    - path: "docs-site/static/css/style.css"
      provides: "CSS for homepage hero section and nav active states"
  key_links:
    - from: "docs-site/layouts/_default/baseof.html"
      to: "docs-site/config.toml"
      via: "Hugo menu config rendered in nav"
      pattern: "range .Site.Menus.main"
---

<objective>
Convert the Docora docs site from a single-page webhook reference into a multi-page documentation site with a homepage, navigation, and section routing.

Purpose: Establishes the multi-page Hugo structure that Plan 09-02 will populate with API and webhook content.
Output: Working Hugo site with homepage + navigation skeleton pointing to API and Webhook sections.
</objective>

<execution_context>
@/home/toto/.claude/get-shit-done/workflows/execute-plan.md
@/home/toto/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@docs-site/config.toml
@docs-site/layouts/_default/baseof.html
@docs-site/layouts/index.html
@docs-site/static/css/style.css
@docs-site/content/_index.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Convert Hugo to multi-page structure with navigation</name>
  <files>
    docs-site/config.toml
    docs-site/layouts/_default/baseof.html
    docs-site/layouts/_default/single.html
    docs-site/layouts/index.html
  </files>
  <action>
    Update `docs-site/config.toml`:
    - Change title to "Docora Documentation"
    - Update params.description to "Documentation for Docora — the headless GitHub repository monitoring service"
    - Add a `[menu]` section with three `[[menu.main]]` entries:
      - name = "Home", url = "/", weight = 1
      - name = "API", url = "/api/", weight = 2
      - name = "Webhooks", url = "/webhooks/", weight = 3

    Update `docs-site/layouts/_default/baseof.html`:
    - Replace the hardcoded `<nav class="nav">` links with a Hugo range over `.Site.Menus.main`
    - Each menu item: `<a href="{{ .URL }}" class="nav-link{{ if $.IsMenuCurrent "main" . }} nav-active{{ end }}">{{ .Name }}</a>`
    - Keep the GitHub external link after the menu loop
    - Keep everything else (header, footer, main structure) unchanged

    Create `docs-site/layouts/_default/single.html`:
    - Copy the structure from the existing `index.html` layout (article.content with .Content + nav.toc with .TableOfContents)
    - This layout is used by section pages like /api/ and /webhooks/

    Update `docs-site/layouts/index.html`:
    - Change it to render the homepage layout: a hero section + feature cards, NOT the article+toc layout
    - Structure:
      ```
      {{ define "main" }}
      <div class="hero">
        <h1>{{ .Title }}</h1>
        <p class="hero-subtitle">{{ .Params.subtitle }}</p>
      </div>
      <div class="features">
        {{ .Content }}
      </div>
      {{ end }}
      ```
    - The hero section renders the page title and a subtitle param
    - The .Content renders the markdown body (feature descriptions)
  </action>
  <verify>
    Run `cd /home/toto/scm-projects/docora/docs-site && hugo --noBuildLock 2>&1` to confirm the site builds without errors. Check that `docs-site/public/index.html` exists and contains nav links.
  </verify>
  <done>Hugo config has menu entries, baseof.html renders dynamic nav, single.html layout exists for section pages, index.html renders homepage layout.</done>
</task>

<task type="auto">
  <name>Task 2: Create homepage content and update CSS</name>
  <files>
    docs-site/content/_index.md
    docs-site/static/css/style.css
  </files>
  <action>
    Replace `docs-site/content/_index.md` entirely. The old webhook content will be moved to `docs-site/content/webhooks.md` in Plan 09-02.

    New `_index.md` frontmatter:
    ```yaml
    ---
    title: "Docora"
    subtitle: "Headless GitHub repository monitoring with push-based file notifications"
    ---
    ```

    New `_index.md` body — write clear, developer-focused content in markdown:

    **Section: "What is Docora?"**
    - Docora is a headless service that monitors GitHub repositories and sends real-time HTTP notifications to your application when files change
    - It detects structural file changes using hash-based comparison (SHA-256), not semantic parsing
    - Works with any file type: code, configs, images, documents, binaries

    **Section: "How It Works"** — numbered steps with brief explanations:
    1. **Onboard your app** — Register with Docora to get an app ID and bearer token
    2. **Watch repositories** — Tell Docora which GitHub repos to monitor (public or private)
    3. **Receive notifications** — Docora scans repos on a schedule and POSTs file changes (create/update/delete) to your webhook URL
    4. **Handle failures** — If syncing fails, Docora sends a sync_failed alert so you can rotate tokens or investigate

    **Section: "Key Features"** — brief bullet list:
    - Push-based delivery (no polling needed)
    - HMAC-SHA256 signed webhooks for security
    - Automatic binary file detection and Base64 encoding
    - Chunked delivery for large files (>1MB)
    - Circuit breaker with sync_failed notifications
    - Token rotation without re-registering
    - .docoraignore for excluding files/patterns

    **Section: "Get Started"** — two cards/links:
    - [API Documentation](/api/) — Learn how to register your app and manage repositories
    - [Webhook Reference](/webhooks/) — Understand the notifications Docora sends to your app

    Use HTML divs with appropriate classes for card-style "Get Started" links.

    Update `docs-site/static/css/style.css` — ADD these styles (do not remove existing styles):

    - `.nav-link` base style (same as existing `.nav a` but as named class)
    - `.nav-active` style: `color: var(--color-violet); font-weight: 600;`
    - `.hero` section: centered text, large title, gradient background (reuse existing violet gradient from .intro)
    - `.hero h1`: white color, large font (3rem), no border-bottom
    - `.hero-subtitle`: white, opacity 0.9, font-size 1.2rem
    - `.features`: max-width 800px, margin auto
    - `.features h2`: styled like content h2
    - `.features p, .features ul, .features li`: styled like content equivalents
    - `.get-started`: flex grid for two card links
    - `.get-started-card`: border, border-radius 12px, padding, hover shadow, link styling
    - Homepage layout: `.main .container` should be single column (no toc sidebar) when on homepage — add a `.home-layout` class that overrides the grid to `grid-template-columns: 1fr`
  </action>
  <verify>
    Run `cd /home/toto/scm-projects/docora/docs-site && hugo --noBuildLock 2>&1` to confirm build succeeds. Check `docs-site/public/index.html` contains "What is Docora", "How It Works", "Get Started".
  </verify>
  <done>Homepage explains Docora's purpose, shows how it works in 4 steps, lists key features, and links to API and Webhook sections. CSS supports hero section and homepage layout.</done>
</task>

</tasks>

<verification>
1. `cd docs-site && hugo --noBuildLock` builds without errors
2. `public/index.html` contains homepage content (not webhook docs)
3. Navigation links point to /, /api/, /webhooks/
4. Homepage has "What is Docora", "How It Works", "Key Features", "Get Started" sections
</verification>

<success_criteria>
- Hugo builds successfully with multi-page structure
- Homepage clearly explains Docora's value proposition and how it works
- Navigation enables moving between Homepage, API docs, and Webhook docs
- Site structure ready for Plan 09-02 to add API and Webhook content pages
</success_criteria>

<output>
After completion, create `.planning/phases/09-documentation-site/09-01-SUMMARY.md`
</output>
