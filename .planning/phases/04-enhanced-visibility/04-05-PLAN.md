---
phase: 04-enhanced-visibility
plan: 05
type: execute
wave: 4
depends_on: ["04-03", "04-04"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Admin can search apps by name or URL"
    - "Admin can filter repositories by monitoring status"
    - "Admin can sort tables by relevant columns"
    - "Large lists are paginated with reasonable page sizes"
    - "Filter/search/sort state persists in URL across refresh"
  artifacts: []
  key_links: []
---

<objective>
Verify all Enhanced Visibility features work end-to-end across every dashboard page.

Purpose: Human verification that search, filter, sort, and pagination work correctly with real data across all pages, and that existing Phase 3 actions (retry, resync) remain functional.

Output: Verified phase completion.
</objective>

<execution_context>
@/home/toto/.claude/get-shit-done/workflows/execute-plan.md
@/home/toto/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-enhanced-visibility/04-RESEARCH.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Search, filtering, sorting, and pagination across all dashboard pages:
    - Apps page: table layout with search, sortable columns, pagination
    - Repositories page: table with search, status filter, sortable columns, pagination
    - Notifications page: table with search, sortable columns, pagination, retry buttons
    - Queue page: table with search, status filter, client-side sorting
    - AppDetail sub-table: search, status filter, sortable columns, client-side pagination
  </what-built>
  <how-to-verify>
    Start the dev environment: `pnpm dev` (in one terminal) and `pnpm worker` (in another).

    **1. Apps Page (`/admin/apps`):**
    - [ ] Page shows a table (not cards) with columns: App Name, URL, Repositories, Failed, Created
    - [ ] Click column headers to sort (ascending arrow, descending arrow, then unsorted)
    - [ ] Type in search box, results update after brief delay (300ms debounce)
    - [ ] Search filters by app name and URL
    - [ ] Pagination shows at bottom with page numbers and "Showing X-Y of Z results"
    - [ ] Change page size (20/50/100 dropdown)
    - [ ] Click app name to navigate to detail page

    **2. Repositories Page (`/admin/repositories`):**
    - [ ] Table with columns: Repository, App, Status, Last Scanned, Actions
    - [ ] Click "Filters" to expand filter panel
    - [ ] Status dropdown filter works (select "Failed" to see only failed repos)
    - [ ] Active filter chip appears above table showing "Status: Failed"
    - [ ] Click X on chip to remove filter
    - [ ] Search works across repository name, owner
    - [ ] Sortable columns work
    - [ ] Pagination works
    - [ ] Re-sync button still works (triggers confirmation dialog)

    **3. Notifications Page (`/admin/notifications/failed`):**
    - [ ] Table with columns: Repository, App, Error, Retries, Time, Actions
    - [ ] Search filters by app name, repository name, error message
    - [ ] Sortable columns work (especially retry_count and time)
    - [ ] "Retry All" button shows total count from pagination
    - [ ] Single retry button per row still works
    - [ ] Bulk retry with progress bar still works

    **4. Queue Page (`/admin/queue`):**
    - [ ] Status cards still show at top
    - [ ] Jobs table uses DataTable with sort headers
    - [ ] Search filters jobs by app/repo name (client-side)
    - [ ] Status filter dropdown works (client-side)
    - [ ] Sorting works (client-side)

    **5. AppDetail Page (`/admin/apps/:appId`):**
    - [ ] Repository sub-table has search and status filter
    - [ ] Sortable columns in sub-table
    - [ ] Client-side pagination if many repos
    - [ ] Retry/Re-sync buttons still work
    - [ ] Bulk retry/resync still work with progress

    **6. Cross-cutting checks:**
    - [ ] Refresh the page — filter/search/sort/page state preserved from URL
    - [ ] Copy URL and open in new tab — same filtered view appears
    - [ ] Apply filter that returns no results — see "No results match your filters" with "Clear all filters" button
    - [ ] Click "Clear all filters" — all filters/search cleared, full data shown
    - [ ] Check browser back/forward buttons work with filter changes
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
All Phase 4 success criteria verified through manual testing.
</verification>

<success_criteria>
Human confirms all five pages have functional search, filter, sort, and pagination. Existing retry/resync actions remain operational. URL state sync works correctly.
</success_criteria>

<output>
After completion, create `.planning/phases/04-enhanced-visibility/04-05-SUMMARY.md`
</output>
